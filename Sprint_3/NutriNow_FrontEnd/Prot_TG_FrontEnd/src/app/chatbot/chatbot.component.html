<div class="green-background">
  
  <div class="chat-container">

    <!-- Cabe√ßalho -->
    <div class="chat-header">
      <h2>Assistente Nutricional</h2>

      <!-- üîò Bot√£o Dieta e Treino -->
      <button type="button" (click)="goToDietaTreino()" class="dieta-treino-button">
        <i class="fas fa-dumbbell"></i> Dieta & Treino
      </button>

    <!-- üîò Bot√£o de Perfil -->
    <button type="button" (click)="goToProfile()" class="profile-button">
      <i class="fas fa-user-circle"></i> Perfil
    </button>
      
      <!-- üîò Bot√£o de Logout -->
      <button type="button" (click)="logout()" class="logout-button">
        <i class="fas fa-sign-out-alt"></i> Sair
      </button>
    </div>

    <!-- √Årea de mensagens com scroll -->
    <div class="messages-container" #messagesContainer>
      <div *ngFor="let msg of messages"
        [ngClass]="{'message': true, 'user-message': msg.isUser, 'bot-message': !msg.isUser}">
        <div class="message-content">
          {{ msg.text }}
        </div>
      </div>

      <!-- Loading indicator -->
      <div *ngIf="loading" class="message bot-message">
        <div class="message-content">
          <div class="typing-indicator">
            <span>Assistente est√° digitando</span>
            <div class="typing-dots">
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- √Årea de input -->
    <div class="input-container">

      <!-- Input de texto -->
      <div class="text-input-area">
        <input type="text"
               [(ngModel)]="currentMessage"
               (keydown.enter)="sendMessage()"
               placeholder="Digite sua mensagem..."
               class="message-input">

        <button type="button"
                (click)="sendMessage()"
                [disabled]="!currentMessage.trim() || loading"
                class="send-button">
          <i class="fas fa-paper-plane"></i>
          Enviar
        </button>
      </div>

      <!-- Input de arquivo -->
      <div class="file-input-area">
        <input type="file"
               (change)="onFileSelected($event)"
               accept="image/*"
               class="file-input"
               #fileInput
               hidden>

        <button type="button"
                (click)="fileInput.click()"
                class="file-button">
          <i class="fas fa-paperclip"></i>
          Enviar Imagem
        </button>
      </div>
    </div>
  </div>
</div>
